- 애플리케이션 설계에는 객체의 설계와 애플리케이션 아키텍처라는 두 가지 중요한 측면이 있다.
- 앞에서는 객체의 설계 방법에 대해 설명을 했으나, 그닥 리액트에서 큰 도움이 될 것 같다는 생각은 없고 개념만 가져가는 것 같다.
- 이제 애플리케이션 아키텍처 중 유명한 3가지 MVC, MVP, MVVM에 대해 알아보자.

# MVC 패턴
- MVC 패턴은 애플리케이션의 구조를 개선하기 위해 관심사의 분리를 활용하는 아키텍처 디자인 패턴이다.
- 비즈니스 데이터(모델)과 UI(뷰)를 분리하고, 세 번째 구성 요소(컨트롤러)가 로직과 사용자 입력을 관리하는 구조이다.

## Smalltalk-80의 MVC 패턴
- 1970년대에는 GUI라는 것이 거의 존재하지 않았다.
- 실제 세계의 아이디어를 모델링하는 도메인 객체와 사용자의 화면에 렌더링되는 프레젠테이션 객체 사이를 명확하게 구분하기 위한 수단으로 '분리된 프레젠테이션'이라는 개념이 유명해졌다.
- Smalltalk-80에서 구현된 MVC는 이 '분리된 프레젠테이션' 개념을 한 단계 더 발전시켜 애플리케이션의 로직과 UI를 분리하는 것을 목표로 했다.
### 모델
- 도메인 관련 데이터를 표현했으며 UI(뷰와 컨트롤러)에 대해서는 관여하지 않았다.
- 모델이 변경되면 자신의 관찰자 객체에게 알림을 보냈다.
### 뷰
- 모델의 현재 상태를 표현했다.
- 관찰자 패턴을 사용해 모델이 변경되거나 수정될 때마다 뷰가 알아차릴 수 있도록 했다.
- 또한 뷰는 화면에 보여지는 프레젠테이션 부분만을 담당했지만, 화면에 표시되는 각 섹션 또는 요소에는 언제나 뷰-컨트롤러 쌍이 존재했다.
### 컨트롤러
- 키보드 입력이나 클릭 같은 사용자의 상호작용을 처리하고 뷰에 무엇을 보여줄지, 사용자 입력을 어떻게 처리할지 등을 결정하는 역할을 했다.

# 자바스크립트의 MVC
- MVC는 세 가지 핵심 요소로 구성된다
## 모델
- 모델은 애플리케이션의 데이터를 관리하는 역할을 한다.
- 애플리케이션에 필요한 고유 데이터 형식을 나타낸다.
- 모델은 비즈니스 데이터와 주로 관련이 있다.

## 뷰
- 뷰는 모델에 대한 시각적인 표현으로, 현재 상태의 특정 부분만 보여준다.
- 자바스크립트의 뷰는 여러 DOM 요소의 집합을 생성하고 정리하는 역할을 한다.
- 일반적으로 뷰는 모델을 관찰하고, 모델에 변화가 생기면 알림을 받는다.
- 디자인 패턴 관련 자료에서는 뷰를 종종 둔하다고도 하는데, 뷰는 애플리케이션 내의 모델이나 컨트롤러에 대한 정보를 제한적으로 갖기 때문이다.
- 뷰는 프레젠테이션 계층이기 떄문에 편집과 업데이트 기능을 유저 친화적으로 제공한다.
- 모델을 실제로 업데이트 하는 작업은 컨트롤러가 담당한다.

## 템플릿
- 필요없음요

## 컨트롤러
- 컨트롤러는 모델과 뷰 사이의 중재자 역할을 하며, 일반적으로 사용자가 뷰를 조작할 때 모델을 업데이트하는 역할을 한다.
- 컨트롤러는 애플리케이션 내에서 모델과 뷰 간의 로직 그리고 연동을 관리한다.

# MVC를 사용하는 이유는?
- MVC에서의 관심사 분리는 애플리케이션의 기능을 더 간단한 모듈로 나눌 수 있도록 해주며, 다음과 같은 이점을 제공한다.
### 전반적인 유지보수의 단순화
- 애플리케이션을 업데이트해야 할 때, 변경사항이 데이터 중심인지 아니면 시각적인 변경인지 명확하게 구분할 수 있다.
### 모델과 뷰의 관리
- 비즈니스 로직에 대한 단위 테스트의 작성이 훨씬 간편해진다.
- 애플리케이션 전반에서 하위 수준의 모델 및 컨트롤러 코드 중복이 제거된다.
- 애플리케이션의 규모와 역할의 분리 정도에 따라, 모듈화를 통해 코어 로직을 담당하는 개발자와 UI 작업을 담당하는 개발자가 동시에 작업할 수 있다.

# MVP 패턴
- MVP 패턴은 프레젠테이션 로직의 개선에 초점을 맞춘 MVC 디자인 패턴의 파생이다.
- MVC와 MVP 모두 여러 구성 요소 간의 관심사 분리를 목표로 하지만, 몇 가지 근본적인 차이점이 있다.

## 모델, 뷰, 프리젠터
- MVP에서 P는 프리젠터를 의미한다.
- 프리젠터는 UI 비즈니스 로직을 담당하는 구성 요소이다.
- MVC와 달리, 뷰에서의 이벤트 호출은 프리젠터로 위임된다.
- 프리젠터는 뷰와 분리되어 있으며, 인터페이스를 통해 뷰와 통신한다.
- MVP는 주로 '둔한' 수동형 뷰를 활용하는 구현 방식이 가장 널리 사용된다.

## MVP vs MVC
- MVP는 일반적으로 프레젠테이션 로직을 최대한 재사용해야 하는 엔터프라이즈 수준의 애플리케이션에서 사용된다.
- 뷰가 매우 복잡하고 사용자와의 상호작용이 많은 애플리케이션에서는 MVC가 적합하지 않을 수 있다.
- MVP에서는 복잡한 로직들을 프리젠터 안에 캡슐화할 수 있어 유지보수가 훨씬 간단해진다.
- 물론 현대 자바스크립트 코딩에서는 둘 중 어느 하나만 하라는 것은 아니다. 상호보완적으로 작성하는 것이 좋다.

# MVVM 패턴
- MVVM 패턴은 MVC와 MVP를 기반으로 하는 아키텍처 패턴으로, 애플리케이션의 UI 개발 부분과 비즈니스 로직, 동작 부분을 명확하게 분리한다.
- 많은 MVVM의 구현 방식은 선언적 데이터 반인딩을 활용하여 뷰에 대한 작업을 다른 계층과 분리할 수 있도록 한다.

### 모델
- 도메인에 관련된 정보를 전달합니다.
### 뷰
- 사용자 인터페이스(UI) 입니다.
### 뷰모델
- 모델과 뷰 사이의 인터페이스 역할을 한다.

## 모델
- 모델은 보통 정보를 담고 있지, 동작을 다루지는 않는다.
- 모델은 정보 형식을 지정하지 않고, 데이터가 브라우저에 어떻게 표현될지에 영향을 미치지 않는다.
- 대신에 데이터 형식 지정은 뷰가 담당하고, 동작은 모델과 상호작용하는 또 다른 계층인 뷰모델에서 캡슐화하여 처리해야 하는 비즈니스 로직으로 간주된다.
- 모델의 역할 중 유일한 예외는 데이터 유효성 검사다.
- 기존 모델을 정의하거나 업데이트 하는 데 사용되는 데이터에 대한 유효성 검사는 모델에서 수행하는 것이 허용된다.

## 뷰
- 뷰는 애플리케이션에서 사용자가 상호작용하는 유일한 부분이고, 뷰모델의 상태를 표현하는 상호작용이 가능한 UI다.
- 수동적 뷰는 단순히 화면을 출력할 뿐 사용자의 입력을 받아들이지 않는다.
- 이러한 뷰는 애플리케이션의 모델에 대한 구체적인 정보를 가지고 있지 않을 수 있으며, 프리젠터에 의해 조작될 수 있다.
- 반면, MVVM의 능동적 뷰는 데이터 바인딩, 이벤트, 동작들을 포함하고 있어 뷰모델에 대한 이해를 필요로 한다.
- 뷰모델로부터 발생한 이벤트를 처리하는 책임은 여전히 뷰가 갖고 있다.
- 중요한 점은 뷰는 상태를 관리할 책임이 없다는 것이다.
- 뷰는 뷰모델과 정보 또는 상태를 항상 동기화된 상태로 유지하기 때문이다.

## 뷰모델
- 뷰모델은 데이터 변환기의 역할을 하는 특수한 컨트롤러로 볼 수 있다.
- 뷰모델은 뷰의 상태를 유지하고, 뷰에서 발생한 동작에 기반해 모델을 업데이트하며, 뷰에 이벤트를 발생시키는 등의 기능을 수행하기 위한 메서드도 제공할 수 있다.
- 정리하자면, 뷰모델은 UI 계층의 뒤에 위치힌다.
- 뷰가 필요로 하는 데이터를 제공하며, 데이터와 사용자의 동작 모두를 뷰가 참조하는 출처의 역할을 할 수 있다.

## 장단점
### 장점
- MVVM은 UI와 이를 구동하게 해주는 요소를 동시에 개발할 수 있도록 한다.
- MVVM은 뷰를 추상화함으로써 뷰의 뒤에 작성되는 비즈니스 로직(또는 연결 코드)의 양을 줄여준다.
- 뷰모델은 이벤트 중심 코드에 비해 단위 테스트가 더 쉽다.
- 뷰모델은 (뷰보다는 모델에 가까우므로) UI 자동화나 상호작용에 대한 고려 없이도 테스트가 가능하다.
### 단점
- 단순한 UI의 경우, MVVM은 과도한 구현이 될 수 있따.
- 데이터 바인딩은 선언적이고 사용하기 편리할 수 있지만, 단순히 중단점을 설정하는 명령형 코드에 비해 디버깅이 더 어려울 수 있다.
- 복잡한 애플리케이션에서는, 데이터 바인딩이 상당한 관리 부담을 만들어 낼 수 있다. 또한 바인딩 코드가 바인딩 대상 객체보다 더 무거운 상황도 피하고 싶은 경우가 생긴다.
- 대규모 애플리케이션에서는 필요한 일반화를 제공하기 위해 뷰모델을 미리 설계하는 것이 어려울 수 있다.
